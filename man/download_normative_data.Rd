% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/download_normative_data.R
\name{download_normative_data}
\alias{download_normative_data}
\title{Download normative acts from the Central Bank (BCB) by terms and date range}
\usage{
download_normative_data(terms, ini_date, end_date)
}
\arguments{
\item{terms}{Character vector. Search terms; they will be concatenated with " OR " and URL-encoded.}

\item{ini_date}{Character. Start date in "YYYY-MM-DD" format.}

\item{end_date}{Character. End date in "YYYY-MM-DD" format.}
}
\value{
data.frame containing the records returned by the API and the post-processed columns.
}
\description{
\ifelse{html}{\href{https://lifecycle.r-lib.org/articles/stages.html#experimental}{\figure{lifecycle-experimental.svg}{options: alt='[Experimental]'}}}{\strong{[Experimental]}}

Queries the BCB normative search API, collects all results within the provided
date range and returns a data.frame with the records.
Data are downloaded from \url{https://www.bcb.gov.br/estabilidadefinanceira/buscanormas}.
}
\details{
\enumerate{
\item Builds the query URL using the terms and the date range.
\item Retrieves the total number of results to determine the page size.
\item Iterates over result pages (incrementing by 500) until a page returns fewer than 13 rows (stop condition).
\item Performs simple cleaning on returned fields:
\itemize{
\item removes "string;#" prefixes,
\item removes HTML tags in summaries and subjects,
\item removes the decimal part of normative numbers.
}
}
}
\examples{
\dontrun{
ini_date <- "2020-01-01"
end_date <- Sys.Date()
terms <- c("Cooperativas de Crédito", "Cooperativa de Crédito")
normas <- download_normative_data(terms, ini_date, end_date)
}
}
