% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/download_normative_data.R
\name{download_normative_data}
\alias{download_normative_data}
\title{Baixa normativos do Banco Central (BCB) por termos e intervalo de datas}
\usage{
download_normative_data(terms, ini_date, end_date)
}
\arguments{
\item{terms}{Character vector. Termos de busca; serão concatenados com " OR " e URL-encoded.}

\item{ini_date}{Character. Data inicial no formato "YYYY-MM-DD".}

\item{end_date}{Character. Data final no formato "YYYY-MM-DD".}
}
\value{
data.frame contendo os registros retornados pela API e as colunas pós-processadas.
}
\description{
\ifelse{html}{\href{https://lifecycle.r-lib.org/articles/stages.html#superseded}{\figure{lifecycle-superseded.svg}{options: alt='[Superseded]'}}}{\strong{[Superseded]}}
}
\details{
Faz uma consulta à API de busca de normativos do BCB, coleta todos os resultados
no intervalo de datas fornecido e retorna um data.frame com os registros.
\enumerate{
\item Constrói a URL de consulta usando os termos e o intervalo de datas.
\item Recupera o total de resultados para definir o tamanho da página.
\item Itera sobre as páginas de resultado (incremento de 500 em 500) até que a página retornada tenha menos de 13 linhas (condição de parada).
\item Realiza limpeza simples em campos retornados:
\itemize{
\item remove prefixos "string;#",
\item remove tags HTML em resumos e assuntos,
\item remove parte decimal de números de norma.
}
}
}
\examples{
\dontrun{
ini_date <- "2020-01-01"
end_date <- Sys.Date()
terms <- c("Cooperativas de Crédito", "Cooperativa de Crédito")
normas <- download_normative_data(terms, ini_date, end_date)
}
}
